<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´° | Goromatsu ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª</title>
  <style>
    body { margin:0; background:#0f0f0f; color:#f2f2f2; font-family:'Segoe UI',sans-serif; line-height:1.6; padding-top:5rem; }
    header { position:fixed; top:0; left:50%; transform:translateX(-50%); background:#121212; padding:1rem 1.5rem; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; max-width:960px; width:100%; z-index:1000; }
    header h1 { margin:0; color:#78f2c3; font-size:1.5rem; }
    header a { color:#3794FF; text-decoration:none; font-size:1rem; }
    .detail-container { max-width:960px; margin:2rem auto; padding:0 1rem; display:flex; flex-direction:column; gap:1.5rem; }
    .video-container { position:relative; width:100%; padding-top:56.25%; background:#111; border-radius:8px; overflow:hidden; }
    .video-container iframe, .video-container video { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; }
    .metrics { display:flex; flex-wrap:wrap; gap:0.5rem; }
    .metrics span { background:#f4a9b8; color:#000; padding:0.25rem 0.5rem; border-radius:4px; font-size:0.85rem; }
    .info-boxes { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr)); gap:1rem; }
    .info-box { background:#1a1a1a; border-radius:6px; padding:0.75rem; }
    .info-box h3 { margin:0 0 0.4rem; color:#78f2c3; font-size:1rem; }
    .info-box ul { margin:0; padding-left:1rem; color:#ccc; font-size:0.85rem; }
    .info-box ul li { margin-bottom:0.4rem; }
    .info-box p { margin:0; color:#ccc; font-size:0.9rem; }
    @media (max-width:600px) { header { flex-direction:column; align-items:flex-start; } header a { margin-top:0.5rem; } .detail-container { gap:1rem; } }
  </style>
</head>
<body>
  <header>
    <h1>Goromatsu ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª</h1>
    <a href="index.html">â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã¸æˆ»ã‚‹</a>
  </header>
  <div class="detail-container">
    <!-- å‹•ç”»è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <div class="video-container" id="videoArea"></div>
    <!-- ãƒ¡ãƒˆãƒªã‚¯ã‚¹ -->
    <div class="metrics" id="metricsArea"></div>
    <!-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ãƒ»æ¦‚è¦ãƒ»ä»•æ§˜å·¥å¤«ãƒ»ã‚·ã‚¹ãƒ†ãƒ å·¥å¤« -->
    <div class="info-boxes">
      <div class="info-box" id="box-info"></div>
      <div class="info-box" id="box-overview"></div>
      <div class="info-box" id="box-spec"></div>
      <div class="info-box" id="box-system"></div>
    </div>
  </div>
  <script>
  (async () => {
    const params = new URLSearchParams(location.search);
    const id = params.get('id');
    if (!id) { document.body.innerHTML = '<p style="padding:2rem;color:#f77f94;">ID ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“</p>'; return; }
    let projects;
    try { const resp = await fetch('projects.json'); projects = await resp.json(); }
    catch (e) { document.body.innerHTML = '<p style="padding:2rem;color:#f77f94;">projects.json ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</p>'; return; }
    const data = projects.find(p => p.id === id);
    if (!data) { document.body.innerHTML = '<p style="padding:2rem;color:#f77f94;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ (id=' + id + ')</p>'; return; }
    // å‹•ç”»åŸ‹ã‚è¾¼ã¿
    document.getElementById('videoArea').innerHTML = 
      `<iframe src="https://www.youtube.com/embed/${data.videoId}?autoplay=1&mute=1&loop=1&playlist=${data.videoId}&controls=0&modestbranding=1&rel=0&iv_load_policy=3&playsinline=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    // ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­å®š
    const metrics = [];
    metrics.push(`<span>ğŸ› ï¸ ${data.tech.split(' - ')[0]}</span>`);
    metrics.push(`<span>â³ ${data.duration}</span>`);
    metrics.push(`<span>ğŸ‘¥ ${data.team}</span>`);
    if (data.plays) metrics.push(`<span>ğŸ® ${data.plays}</span>`);
    if (data.avgTime) metrics.push(`<span>â±ï¸ ${data.avgTime}</span>`);
    document.getElementById('metricsArea').innerHTML = metrics.join('');
    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ï¼ˆå½¹å‰²ãƒ»ãƒãƒ¼ãƒ ãƒ»æœŸé–“ãƒ»ç·ãƒ—ãƒ¬ã‚¤æ•°ãƒ»å¹³å‡æ™‚é–“ï¼‰
    document.getElementById('box-info').innerHTML = 
      `<h3>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±</h3>
       <ul>
         <li>å½¹å‰²: ${data.role}</li>
         <li>ãƒãƒ¼ãƒ ã‚µã‚¤ã‚º: ${data.team}</li>
         <li>åˆ¶ä½œæœŸé–“: ${data.duration}</li>
         <li>ç·ãƒ—ãƒ¬ã‚¤æ•°: ${data.plays || 'â€”'}</li>
         <li>å¹³å‡ãƒ—ãƒ¬ã‚¤æ™‚é–“: ${data.avgTime || 'â€”'}</li>
       </ul>`;
    // æ¦‚è¦
    document.getElementById('box-overview').innerHTML = `<h3>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h3><p>${data.overview}</p>`;
    // ä»•æ§˜å·¥å¤«
    document.getElementById('box-spec').innerHTML = `<h3>ä»•æ§˜å·¥å¤«</h3><p>${data.spec || ''}</p>`;
    // ã‚·ã‚¹ãƒ†ãƒ å·¥å¤«
    document.getElementById('box-system').innerHTML = `<h3>ã‚·ã‚¹ãƒ†ãƒ å·¥å¤«</h3><p>${data.system || ''}</p>`;
  })();
  </script>
</body>
</html>
